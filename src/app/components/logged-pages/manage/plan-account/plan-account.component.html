<div *ngIf="card; else noCard" class="col-md-12 mt-4">
  <div class="row">
    <div class="col-md-12">
      <div *ngIf="!isLoading && !isLoadingCard" class="row">
        <div class="col-md-5">
          <div class="card card--front">
            <div class="card__number">4111 **** **** 1111</div>
            <div class="card__expiry-date">10/17</div>
            <div class="card__owner">{{user.name}}</div>
            <img class="card__logo" src="assets/img/plan/{{brand == 'visa'? 'visa': 'master'}}.png" alt="visa" />
          </div>
        </div>
        <div class="col-md-7 mt-4">
          <h4 class="title-home">Plano <strong>{{plan?.plan}}</strong></h4>
          <h4>Você tem <strong>{{activeUsers}}</strong> usuários ativos</h4>
          <h4>Valor atual do plano está em <strong>{{currentPlanValue | currency : 'BRL'}} mensais</strong></h4>
        </div>
      </div>
    </div>

    <div *ngIf="isLoading">
      <app-spinner-loader></app-spinner-loader>
    </div>

    <div *ngIf="!isLoading" class="col-md-12 mt-4">
      <div class="col-md-4 mt-4">
        <input type="button" (click)="changePlan()" class="btn-custom-confirm" value="Alterar Plano" />
      </div>
      <div class="col-md-4 mt-4">
        <input type="button" (click)="newCard()" class="btn-custom-decline" value="Alterar Cartão" />
      </div>
      <div class="col-md-4 mt-4">
        <input type="button" class="btn-custom-reject" value="Cancelar Assinatura" />
      </div>
    </div>
  </div>
</div>

<ng-template #noCard>
  <div *ngIf="!isLoadingCard" class="col-md-12">
    <div class="row">
      <div class="col-md-6">
        <h4 class="text-muted">Nenhum Cartão adicionado</h4>
      </div>
      <div class="col-md-6 mt-2">
        <input type="button" class="btn-custom-confirm" (click)="newCard()" value="Adicionar Cartão">
      </div>
    </div>
  </div>
</ng-template>
